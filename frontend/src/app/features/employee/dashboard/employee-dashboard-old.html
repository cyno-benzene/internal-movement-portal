<div class="dashboard-container">
  <h1>Employee Dashboard</h1>
  
  <mat-grid-list cols="3" rowHeight="300px" gutterSize="20px">
    <!-- Profile Completeness -->
    <mat-grid-tile colspan="1">
      <mat-card class="dashboard-card">
        <mat-card-header>
          <mat-card-title>Profile Completeness</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="progress-circle">
            <span>{{ profileCompleteness }}%</span>
          </div>
          <p>Complete your profile to get better job matches</p>
          <button mat-raised-button color="primary" routerLink="/profile">
            Update Profile
          </button>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Matched Jobs -->
    <mat-grid-tile colspan="2">
      <mat-card class="dashboard-card">
        <mat-card-header>
          <mat-card-title>
            <mat-icon>work</mat-icon>
            Top Job Matches
          </mat-card-title>
          <mat-card-subtitle>AI-recommended positions for you</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <div *ngIf="matchedJobs.length === 0" class="no-data">
            No job matches found. Update your profile to get recommendations.
          </div>
          <div *ngFor="let match of matchedJobs" class="job-match-item">
            <div class="job-info">
              <h3>{{ match.job.title }}</h3>
              <p>{{ match.job.team }} â€¢ Match: {{ match.score }}%</p>
            </div>
            <button mat-button color="primary" (click)="applyToJob(match.job.id)">
              Apply
            </button>
          </div>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button routerLink="/matched-jobs">View All Matches</button>
        </mat-card-actions>
      </mat-card>
    </mat-grid-tile>

    <!-- Recent Applications -->
    <mat-grid-tile colspan="3">
      <mat-card class="dashboard-card">
        <mat-card-header>
          <mat-card-title>
            <mat-icon>assignment</mat-icon>
            Recent Applications
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div *ngIf="recentApplications.length === 0" class="no-data">
            No applications yet. Start exploring job opportunities!
          </div>
          <div class="applications-list">
            <div *ngFor="let application of recentApplications" class="application-item">
              <div class="application-info">
                <h3>{{ application.job.title }}</h3>
                <p>{{ application.job.team }}</p>
                <small>Applied on {{ application.created_at | date }}</small>
              </div>
              <div class="application-status">
                <span class="status-badge" [ngClass]="getStatusClass(application.status)">
                  {{ application.status }}
                </span>
              </div>
            </div>
          </div>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button routerLink="/applications">View All Applications</button>
        </mat-card-actions>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>
